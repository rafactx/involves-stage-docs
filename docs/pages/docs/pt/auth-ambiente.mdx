---
title: &apos;Autentica√ß√£o e Cabe√ßalhos&apos;
---

import { Callout } from &apos;zudoku/ui/Callout&apos;;
import { Card, CardContent, CardHeader } from &apos;zudoku/ui/Card&apos;;

## üîß Cabe√ßalhos HTTP obrigat√≥rios

<p className="text-muted-foreground mb-6"&gt;
  Todas as requisi√ß√µes para a API devem incluir os seguintes cabe√ßalhos:
</p&gt;

<Card className="bg-[#f9f9fb] dark:bg-[#1e1e1e] border border-[#d4d4d8] dark:border-[#3a3a3c] rounded-xl overflow-hidden"&gt;
  <CardHeader className="bg-[#e4e4e7] dark:bg-[#2c2c2e] border-b border-[#d4d4d8] dark:border-[#3a3a3c] py-3"&gt;
    <div className="flex items-center gap-2"&gt;
      <div className="flex gap-1.5"&gt;
        <div className="w-3 h-3 rounded-full bg-red-500" /&gt;
        <div className="w-3 h-3 rounded-full bg-yellow-500" /&gt;
        <div className="w-3 h-3 rounded-full bg-green-500" /&gt;
      </div&gt;
      <span className="text-xs text-[#4b5563] dark:text-gray-400 font-mono ml-2"&gt;request.headers</span&gt;
    </div&gt;
  </CardHeader&gt;

  <CardContent className="p-0 font-mono text-sm text-[#111827] dark:text-slate-300"&gt;
    <div className="divide-y divide-[#d4d4d8] dark:divide-[#3a3a3c]"&gt;
      <div className="flex gap-4 px-6 py-3 items-start hover:bg-[#f4f4f5] dark:hover:bg-slate-800/50 transition-colors"&gt;
        <span className="font-bold text-blue-600 dark:text-blue-400 min-w-[140px]"&gt;Authorization</span&gt;
        <span className="text-[#4b5563] dark:text-slate-400"&gt;Basic base64(usuario:senha) ‚Äî autentica√ß√£o do usu√°rio.</span&gt;
      </div&gt;

      <div className="flex gap-4 px-6 py-3 items-start hover:bg-[#f4f4f5] dark:hover:bg-slate-800/50 transition-colors"&gt;
        <span className="font-bold text-purple-600 dark:text-purple-400 min-w-[140px]"&gt;X-AGILE-CLIENT</span&gt;
        <span className="text-[#4b5563] dark:text-slate-400"&gt;Sempre <code&gt;EXTERNAL_APP</code&gt; ‚Äî indica que a requisi√ß√£o √© externa.</span&gt;
      </div&gt;

      <div className="flex gap-4 px-6 py-3 items-start hover:bg-[#f4f4f5] dark:hover:bg-slate-800/50 transition-colors"&gt;
        <span className="font-bold text-pink-600 dark:text-pink-400 min-w-[140px]"&gt;Accept-Version</span&gt;
        <span className="text-[#4b5563] dark:text-slate-400"&gt;Exemplo: <code&gt;2020-02-26</code&gt; ‚Äî define a vers√£o da API v3 a ser usada.</span&gt;
      </div&gt;
    </div&gt;

</CardContent&gt;

  <div className="px-6 py-3 bg-[#e4e4e7] dark:bg-[#2c2c2e] border-t border-[#d4d4d8] dark:border-[#3a3a3c]"&gt;
    <span className="text-xs text-[#4b5563] dark:text-gray-400"&gt;
      Vers√µes anteriores (v1 e v2) n√£o exigem o header <code&gt;Accept-Version</code&gt;.
    </span&gt;
  </div&gt;
</Card&gt;

---

## üìÖ Versionamento via cabe√ßalho

Na API v3, voc√™ escolhe explicitamente a vers√£o do endpoint atrav√©s do cabe√ßalho `Accept-Version`. Isso garante que mudan√ßas futuras n√£o ir√£o impactar negativamente a sua integra√ß√£o j√° estabelecida.

Exemplo pr√°tico:

- Voc√™ implementou sua integra√ß√£o usando o header `Accept-Version: 2020-02-26`.
- Qualquer mudan√ßa n√£o retrocompat√≠vel ser√° lan√ßada com uma data posterior (ex.: `2021-05-14`), garantindo que a sua integra√ß√£o continue funcionando normalmente.
- Para atualizar sua integra√ß√£o, basta trocar a vers√£o do header em chamadas espec√≠ficas quando necess√°rio, sem precisar atualizar todos os endpoints.

<Callout type="tip" icon={false} className="text-sm leading-relaxed"&gt;
  **Vers√£o atual da API v3:** `2020-02-26`
</Callout&gt;

---

## üîê Autentica√ß√£o

<p className="text-muted-foreground mb-6"&gt;
  A API utiliza exclusivamente <strong&gt;HTTP Basic Authentication</strong&gt; com credenciais
  codificadas em Base64.
</p&gt;

<Card className="bg-[#f9f9fb] dark:bg-[#1e1e1e] border border-[#d4d4d8] dark:border-[#3a3a3c] rounded-xl overflow-hidden"&gt;
  <CardHeader className="bg-[#e4e4e7] dark:bg-[#2c2c2e] border-b border-[#d4d4d8] dark:border-[#3a3a3c] py-3"&gt;
    <div className="flex items-center gap-2"&gt;
      <div className="flex gap-1.5"&gt;
        <div className="w-3 h-3 rounded-full bg-red-500" /&gt;
        <div className="w-3 h-3 rounded-full bg-yellow-500" /&gt;
        <div className="w-3 h-3 rounded-full bg-green-500" /&gt;
      </div&gt;
      <span className="text-xs text-[#4b5563] dark:text-gray-400 font-mono ml-2"&gt;
        Authorization header
      </span&gt;
    </div&gt;
  </CardHeader&gt;

<CardContent className="p-6 font-mono text-sm text-[#111827] dark:text-slate-300 space-y-2"&gt;
  <div&gt;
    <span className="block text-[#4b5563] dark:text-slate-400 mb-1"&gt;Usu√°rio:</span&gt;
    <code className="block bg-muted p-2 rounded"&gt;seuUsuarioDoInvolvesStage</code&gt;
  </div&gt;
  <div&gt;
    <span className="block text-[#4b5563] dark:text-slate-400 mb-1"&gt;Senha:</span&gt;
    <code className="block bg-muted p-2 rounded"&gt;suaSenhaDoInvolvesStage</code&gt;
  </div&gt;
  <div&gt;
    <span className="block text-[#4b5563] dark:text-slate-400 mb-1"&gt;Header completo:</span&gt;
    <code className="block bg-muted p-2 rounded"&gt;
      Authorization: Basic YWdpbGl0bzppbnZvbHZlcw==
    </code&gt;
  </div&gt;
</CardContent&gt;

  <div className="px-6 py-3 bg-[#e4e4e7] dark:bg-[#2c2c2e] border-t border-[#d4d4d8] dark:border-[#3a3a3c]"&gt;
    <span className="text-xs text-[#4b5563] dark:text-gray-400"&gt;
      Dica: use <code className="text-blue-600 dark:text-blue-400"&gt;btoa(&apos;usuario:senha&apos;)</code&gt; no console para gerar o valor codificado.
    </span&gt;
  </div&gt;
</Card&gt;

## üåç Identifica√ß√£o do Ambiente (Environment ID)

A maioria dos endpoints exige o `environmentId`. A URL completa fica assim:

```
https://exemplo.involves.com/webservices/api/v3/environments/{environmentId}
```

Para obter o ID correto:

1. V√° at√© **Administra√ß√£o de Ambientes** no Involves Stage.
2. Selecione o ambiente desejado e clique em **Editar**.
3. Copie o ID do ambiente exibido na URL do navegador.

<Callout type="tip" title="Dica Pro" className="text-sm leading-relaxed"&gt;
  Use o atalho{&apos; &apos;}
  <strong&gt;
    <u&gt;Ctrl + K -&gt; Administra√ß√£o de Ambientes</u&gt;
  </strong&gt;{&apos; &apos;}
  para encontrar a tela rapidamente.
</Callout&gt;
